!function(){"use strict";class t{constructor(t){this.parentElem=t,this.onSubmit=this.onSubmit.bind(this),this.onInput=this.onInput.bind(this)}static get buttonSelector(){return".button"}static get inputSelector(){return".input"}static get messageSelector(){return".message"}static get markup(){return'\n    <form class = "form__validate">\n        <div class = "div__imgs">\n            <div class = "inactive">\n                <div class = "visa div__imgs_img"></div>\n            </div>\n            <div class = "inactive">\n              <div class = "mastercard div__imgs_img"></div>\n            </div>\n            <div class = "inactive">\n              <div class = "mir div__imgs_img"></div>\n            </div>\n        </div>\n        <input type = "text" class = "input">\n        <input type = "submit" value = "Click to Validate" class = "button">\n        <div class = "message"></div>\n    </form>\n    '}bindToDOM(){this.parentElem.innerHTML=t.markup,this.input=document.querySelector(t.inputSelector),this.button=document.querySelector(t.buttonSelector),this.message=document.querySelector(t.messageSelector),this.input.addEventListener("input",this.onInput),this.button.addEventListener("click",this.onSubmit)}onSubmit(e){if(e.preventDefault(),t.validate(this.input.value)){const e=t.defineSystem(this.input.value);this.clearSystemImg(),this.setSystemImg(e)}else this.message.textContent="Invalid card number"}onInput(t){this.message.textContent=""}static validate(t){return 16===t.length}static defineSystem(t){return"4"===t[0]?"visa":"51"===t.substring(0,2)||"52"===t.substring(0,2)||"53"===t.substring(0,2)||"54"===t.substring(0,2)||"55"===t.substring(0,2)||Number(t.substring(0,6))>=222100&&Number(t.substring(0,6))<=272099?"mastercard":"2"===t[0]?"mir":"other"}clearSystemImg(){Array.from(document.querySelectorAll(".div__imgs_img")).forEach((t=>{t.parentElement.classList.contains("active")&&(t.parentElement.classList.add("inactive"),t.parentElement.classList.remove("active"))}))}setSystemImg(t){if("other"!==t){const e=document.querySelector(`.${t}`);e&&(e.parentElement.classList.remove("inactive"),e.parentElement.classList.add("active"))}}}const e=document.querySelector(".container");new t(e).bindToDOM()}();